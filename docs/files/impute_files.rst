Input files
========================

The totality of all the input files are all located in the `config` directory.

GridAPPSD needed files
------------------------------
1. `test240b_open_76591_CIM100x.XML`: CIM model for the example test case. Needed for populating the example test case.
2. `system_message_bus.yml`: Configuration of the message bus.
3. `pnnl.goss.gridappsd.cfg`: Informs the distributed version of GridAPPSD the test case to be utilized.

Main input configuration
--------------------------------

`input_config.toml`: 
    - `core`: strings to be replaced in other entries similar to a f-string in python
    - `logging_configuration`: contain the python logging configuration
    - `test_case`: GridAPPSD test case and simulation configuration 
    - `system_variables`: Set of system variables added to the system
    - `app_config`: Id and description of application to GridAPPSD
    - `feeder_agent_configuration`: Feeder level agent configuration
    - `area_agent_configuration`: Switch delimited area agent configuration

Note: Multiple of the previous mentioned information configuration points to other files to be replaced by their information.


Message configuration
---------------------------

The message configuration is made by a json file selected in the `input_config.toml`. The files contain default message delays and losses and specific message delay and loss in between specific agents.

1. The delay are presented in seconds and the delays are added by a uniform random sample in between the upper and lower expected delays expressed in seconds. 
2. The loss of messages is expressed in pu. E.G., the message loss of 0.5 implies that half the messages are expected to be lost.



DFLISR test case dependent input files
--------------------------------------------

The files presented here are the HDF5 files. The HDF5 files contain pandas DataFrame tables. A portion of the tables will be presented hear to illustrate the information being provided to the agents making the decisions. Please note the float and complex numbers are truncate to reduce the space taken in the documentation.


area_connections.h5
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Contain a single table with the information of the switch delimited areas connections. Below is the head of the table. `node1` is the node name from. `node2` is the node name to. `area1` indicated the area number from. `area2` indicates the area number to. The values with `-1` indicated the area is connected tu a substation.

+-----------+-----------+-------+-------+
| node1     | node2     | area1 | area2 |
+-----------+-----------+-------+-------+
| BUS1.1    | BUS1001.1 | -1    | 1     |
+-----------+-----------+-------+-------+
| BUS1.2    | BUS1001.2 | -1    | 1     |
+-----------+-----------+-------+-------+
| BUS1.3    | BUS1001.3 | -1    | 1     |
+-----------+-----------+-------+-------+
| BUS1010.1 | BUS2057.1 | 1     | 4     |
+-----------+-----------+-------+-------+
| BUS1010.2 | BUS2057.2 | 1     | 4     |
+-----------+-----------+-------+-------+



max_node_load.h5
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Contain a single table with the information of the maximum load at each node. `sensor_name` sensor name. `sensor_type` the types are active power `Pi` or reactive power `Qi` for each node. `node1` the from node location of the sensor. `node2` the to node location of the sensor. `measurement` the sensor measurement value. `variance` the sensor variance (i.e., expected error). `area` the switch delimited area number of the sensor.

+--------------+-------------+-----------+-----------+-------------+----------+------+
| sensor_name  | sensor_type | node1     | node2     | measurement | variance | area |
+--------------+-------------+-----------+-----------+-------------+----------+------+
| Pi_BUS1001.1 | Pi          | BUS1001.1 | BUS1001.1 | -0.00       | 1.00e-09 | 1    |
+--------------+-------------+-----------+-----------+-------------+----------+------+
| Pi_BUS1001.2 | Pi          | BUS1001.2 | BUS1001.2 | -0.00       | 1.00e-09 | 1    |
+--------------+-------------+-----------+-----------+-------------+----------+------+
| Pi_BUS1001.3 | Pi          | BUS1001.3 | BUS1001.3 | -0.00       | 1.00e-09 | 1    |
+--------------+-------------+-----------+-----------+-------------+----------+------+
| Pi_BUS1002.1 | Pi          | BUS1002.1 | BUS1002.1 | -0.00       | 1.00e-09 | 1    |
+--------------+-------------+-----------+-----------+-------------+----------+------+
| Pi_BUS1002.2 | Pi          | BUS1002.2 | BUS1002.2 | -0.00       | 1.00e-09 | 1    |
+--------------+-------------+-----------+-----------+-------------+----------+------+


sensors.h5
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Contain a single table very similar to `max_node_load.h5` the main deference is that all the sensor types are available and the `measurement` column is not related to the maximum load node.

+--------------------+-------------+-------+--------+-------------+----------+
| sensor_name        | sensor_type | node1 | node2  | measurement | variance |
+--------------------+-------------+-------+--------+-------------+----------+
| Vi_EQ_SOURCE_BUS.1 | Vi          | EQ    | SOURCE | 1.00        | 0.00     |
+--------------------+-------------+-------+--------+-------------+----------+
| Vi_EQ_SOURCE_BUS.2 | Vi          | EQ    | SOURCE | 1.00        | 0.00     |
+--------------------+-------------+-------+--------+-------------+----------+
| Vi_EQ_SOURCE_BUS.3 | Vi          | EQ    | SOURCE | 1.00        | 0.00     |
+--------------------+-------------+-------+--------+-------------+----------+
| Vi_BUS_XFMR.1      | Vi          | BUS   | XFMR.1 | 1.00        | 0.00     |
+--------------------+-------------+-------+--------+-------------+----------+
| Vi_BUS_XFMR.2      | Vi          | BUS   | XFMR.2 | 1.00        | 0.00     |
+--------------------+-------------+-------+--------+-------------+----------+



ybus_area.h5
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Contain multiple tables. The table keys are `area-1`, `area-2`, `area-3`, `area-4`, `area-5`, and `area-6`. As the name suggests the the table contain the ybus matrix of each area. The table head below is from `area-1`.

+---------------+---------------+---------------+-----------------+-----------------+---------------+---------------+---------------+---------------+---------------+---------------+---------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+
| BUS1001.1     | BUS1001.2     | BUS1001.3     | BUS1002.1       | BUS1002.2       | BUS1002.3     | BUS1003.1     | BUS1003.2     | BUS1003.3     | BUS1004.1     | BUS1004.2     | BUS1004.3     | BUS1005.1    | BUS1005.2    | BUS1005.3    | BUS1006.1    | BUS1006.2    | BUS1006.3    | BUS1007.1    | BUS1007.2    | BUS1008.1    | BUS1008.2    | BUS1008.3    | BUS1009.1    | BUS1009.2    | BUS1009.3    | BUS1010.1    | BUS1010.2    | BUS1010.3    | BUS1011.1    | BUS1011.2    | BUS1011.3    | BUS1012.1    | BUS1012.2    | BUS1012.3    | BUS1013.1    | BUS1013.2    | BUS1013.3    | BUS1014.2    | BUS1015.2    | BUS1016.3    | BUS1017.3    |
+---------------+---------------+---------------+-----------------+-----------------+---------------+---------------+---------------+---------------+---------------+---------------+---------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+
| 1.67 + -1.01i | -0.41 + 0.35i | -0.41 + 0.35i | -1.67 + 1.01i   | 0.41 + -0.35i   | 0.41 + -0.35i | 0.00 + 0.00i  | 0.00 + 0.00i  | 0.00 + 0.00i  | 0.00 + 0.00i  | 0.00 + 0.00i  | 0.00 + 0.00i  | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i |
+---------------+---------------+---------------+-----------------+-----------------+---------------+---------------+---------------+---------------+---------------+---------------+---------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+
| -0.41 + 0.35i | 1.67 + -1.01i | -0.41 + 0.35i | 0.41 + -0.35i   | -1.67 + 1.01i   | 0.41 + -0.35i | 0.00 + 0.00i  | 0.00 + 0.00i  | 0.00 + 0.00i  | 0.00 + 0.00i  | 0.00 + 0.00i  | 0.00 + 0.00i  | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i |
+---------------+---------------+---------------+-----------------+-----------------+---------------+---------------+---------------+---------------+---------------+---------------+---------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+
| -0.41 + 0.35i | -0.41 + 0.35i | 1.67 + -1.01i | 0.41 + -0.35i   | 0.41 + -0.35i   | -1.67 + 1.01i | 0.00 + 0.00i  | 0.00 + 0.00i  | 0.00 + 0.00i  | 0.00 + 0.00i  | 0.00 + 0.00i  | 0.00 + 0.00i  | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i |
+---------------+---------------+---------------+-----------------+-----------------+---------------+---------------+---------------+---------------+---------------+---------------+---------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+
| -1.67 + 1.01i | 0.41 + -0.35i | 0.41 + -0.35i | 13.75 + -10.97i | -3.71 + 2.63i   | -3.71 + 2.63i | -8.51 + 3.51i | 2.27 + -0.70i | 2.27 + -0.70i | -3.57 + 6.45i | 1.03 + -1.58i | 1.03 + -1.58i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i |
+---------------+---------------+---------------+-----------------+-----------------+---------------+---------------+---------------+---------------+---------------+---------------+---------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+
| 0.41 + -0.35i | -1.67 + 1.01i | 0.41 + -0.35i | -3.71 + 2.63i   | 13.75 + -10.97i | -3.71 + 2.63i | 2.27 + -0.70i | -8.51 + 3.51i | 2.27 + -0.70i | 1.03 + -1.58i | -3.57 + 6.45i | 1.03 + -1.58i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i | 0.00 + 0.00i |
+---------------+---------------+---------------+-----------------+-----------------+---------------+---------------+---------------+---------------+---------------+---------------+---------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+--------------+

